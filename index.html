<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>触摸滑动视图</title>
    <style>
        body, html {
            height: 100%;
            margin: 0;
            overflow: hidden;
            touch-action: none; /* 禁止浏览器的默认触摸行为，如滚动 */
        }
        #viewer {
            display: flex; /* 使用flex布局以便图片能够水平排列 */
            height: 100%;
            overflow-x: scroll; /* 允许水平滚动 */
            scroll-snap-type: x mandatory; /* 启用滚动捕捉以确保图片对齐 */
        }
        .image {
            flex: 0 0 auto; /* 防止图片缩放，保持原有尺寸 */
            width: 100%; /* 宽度和视口一致 */
            height: 100%;
            background-size: auto 100%; /* 背景图片高度100%，宽度自动 */
            background-repeat: no-repeat;
            scroll-snap-align: start; /* 滚动捕捉对齐 */
        }
    </style>
</head>
<body>

<div id="viewer">
    <div class="image" style="background-image: url('image1.jpg');" id="image1"></div>
    <div class="image" style="background-image: url('image2.jpg');" id="image2"></div>
    <div class="image" style="background-image: url('image3.jpg');" id="image3"></div>
    <div class="image" style="background-image: url('image4.jpg');" id="image4"></div>
    <div class="image" style="background-image: url('image5.jpg');" id="image5"></div>
</div>

<script>
    // 获取所有图片和视图容器
    var viewer = document.getElementById('viewer');

    // 滑动开始时的初始位置
    let isDown = false;
    let startX;
    let scrollLeft;

    viewer.addEventListener('mousedown', (e) => {
        isDown = true;
        startX = e.pageX - viewer.offsetLeft;
        scrollLeft = viewer.scrollLeft;
    });
    viewer.addEventListener('mouseleave', () => {
        isDown = false;
    });
    viewer.addEventListener('mouseup', () => {
        isDown = false;
    });
    viewer.addEventListener('mousemove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - viewer.offsetLeft;
        const walk = (x - startX) * 2; // 滑动距离，*2增加滑动敏感度
        viewer.scrollLeft = scrollLeft - walk;
    });

    // 触摸事件
    viewer.addEventListener('touchstart', (e) => {
        isDown = true;
        startX = e.touches[0].pageX - viewer.offsetLeft;
        scrollLeft = viewer.scrollLeft;
    }, { passive: false });
    viewer.addEventListener('touchend', () => {
        isDown = false;
    });
    viewer.addEventListener('touchmove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.touches[0].pageX - viewer.offsetLeft;
        const walk = (x - startX) * 2; // 滑动距离，*2增加滑动敏感度
        viewer.scrollLeft = scrollLeft - walk;
    }, { passive: false });

</script>

</body>
</html>
